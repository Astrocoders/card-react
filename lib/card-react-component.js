(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var ClassNames, Payment, React, ReactCard;

React = require('react');

Payment = require('payment');

ClassNames = require('classnames');

ReactCard = React.createClass({
  displayName: "ReactCard",
  getDefaultProps: function() {
    return {
      messages: {
        validDate: 'valid\nthru',
        monthYear: 'month/year'
      },
      baseWidth: 350,
      defaultValues: {
        number: '•••• •••• •••• ••••',
        cvc: '•••',
        expiry: '••/••',
        name: 'Full Name'
      }
    };
  },
  componentWillMount: function() {
    return this.cardBrowserClass = this._addBrowserClass();
  },
  _addBrowserClass: function() {
    var ua;
    if (typeof navigator !== "undefined" && navigator !== null ? navigator.userAgent : void 0) {
      ua = navigator.userAgent.toLowerCase();
      if (ua.indexOf('safari') !== -1 && ua.indexOf('chrome') === -1) {
        return 'jp-card-safari';
      }
    }
    if (/MSIE 10\./i.test(navigator.userAgent)) {
      return 'jp-card-ie-10';
    }
    if (/rv:11.0/i.test(navigator.userAgent)) {
      return 'jp-card-ie-11';
    } else {
      return '';
    }
  },
  _getCardType: function(cardNumber) {
    this.cardType = Payment.fns.cardType(cardNumber);
    if (this.cardType && this.cardType !== 'unknown') {
      return "jp-card-" + this.cardType + " jp-card-identified";
    }
  },
  _isFocusedInput: function(inputName) {
    var currentInputValue;
    currentInputValue = this.props.formInputsNames[inputName];
    return (this.props.focusedInput === currentInputValue) || this.props.inputsValues[currentInputValue];
  },
  _getInputValidationState: function(inputName) {
    var validationState;
    validationState = this.props.inputsValidationClass[this.props.formInputsNames[inputName]];
    if (typeof validationState === 'undefined') {
      return '';
    } else {
      return validationState;
    }
  },
  render: function() {
    var containerStyle, expiryValue, scaleWidth;
    containerStyle = {};
    if (this.props.width) {
      scaleWidth = "scale(" + (this.props.width / this.props.baseWidth) + ")";
      containerStyle = {
        WebkitTransform: scaleWidth,
        MozTransform: scaleWidth,
        msTransform: scaleWidth,
        OTransform: scaleWidth,
        transform: scaleWidth
      };
    }
    expiryValue = this.props.inputsValues[this.props.formInputsNames["expiry"]];
    if (expiryValue) {
      expiryValue = expiryValue.replace(/\s+/g, '');
    } else {
      expiryValue = this.props.defaultValues.expiry;
    }
    return React.createElement("div", {
      "className": "jp-card-container",
      "style": containerStyle
    }, React.createElement("div", {
      "className": ClassNames("jp-card", this.cardBrowserClass, this._getCardType(this.props.inputsValues[this.props.formInputsNames["number"]]), {
        'jp-card-flipped': this.props.cardFlipped
      })
    }, React.createElement("div", {
      "className": "jp-card-front"
    }, React.createElement("div", {
      "className": "jp-card-logo jp-card-visa"
    }, "visa"), React.createElement("div", {
      "className": "jp-card-logo jp-card-mastercard"
    }, "MasterCard"), React.createElement("div", {
      "className": "jp-card-logo jp-card-maestro"
    }, "Maestro"), React.createElement("div", {
      "className": "jp-card-logo jp-card-amex"
    }), React.createElement("div", {
      "className": "jp-card-logo jp-card-discover"
    }, "discover"), React.createElement("div", {
      "className": "jp-card-logo jp-card-dankort"
    }, React.createElement("div", {
      "className": "dk"
    }, React.createElement("div", {
      "className": "d"
    }), React.createElement("div", {
      "className": "k"
    }))), React.createElement("div", {
      "className": "jp-card-lower"
    }, React.createElement("div", {
      "className": "jp-card-shiny"
    }), React.createElement("div", {
      "className": ClassNames("jp-card-cvc", "jp-card-display", {
        "jp-card-focused": this._isFocusedInput("cvc")
      }, this._getInputValidationState("cvc"))
    }, this.props.inputsValues[this.props.formInputsNames["cvc"]] || this.props.defaultValues.cvc), React.createElement("div", {
      "className": ClassNames("jp-card-number", "jp-card-display", {
        "jp-card-focused": this._isFocusedInput("number")
      }, this._getInputValidationState("number"))
    }, this.props.inputsValues[this.props.formInputsNames["number"]] || this.props.defaultValues.number), React.createElement("div", {
      "className": ClassNames("jp-card-name", "jp-card-display", {
        "jp-card-focused": this._isFocusedInput("name")
      }, this._getInputValidationState("name"))
    }, this.props.inputsValues[this.props.formInputsNames["name"]] || this.props.defaultValues.name), React.createElement("div", {
      "className": ClassNames("jp-card-expiry", "jp-card-display", {
        "jp-card-focused": this._isFocusedInput("expiry")
      }, this._getInputValidationState("expiry")),
      "data-before": this.props.messages.monthYear,
      "data-after": this.props.messages.validDate
    }, expiryValue))), React.createElement("div", {
      "className": "jp-card-back"
    }, React.createElement("div", {
      "className": "jp-card-bar"
    }), React.createElement("div", {
      "className": ClassNames("jp-card-cvc", "jp-card-display", {
        "jp-card-focused": this._isFocusedInput("cvc")
      }, this._getInputValidationState("cvc"))
    }, this.props.inputsValues[this.props.formInputsNames["cvc"]] || this.props.defaultValues.cvc), React.createElement("div", {
      "className": "jp-card-shiny"
    }))));
  }
});

module.exports = ReactCard;


},{"classnames":"classnames","payment":"payment","react":"react"}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvc2hheXN0ZXJuL2Rldi9jYXJkLXJlYWN0L3NyYy9jb2ZmZWUvY2FyZC1yZWFjdC1jb21wb25lbnQuY2pzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBLElBQUE7O0FBQUEsS0FBQSxHQUFRLE9BQUEsQ0FBUSxPQUFSOztBQUNSLE9BQUEsR0FBVSxPQUFBLENBQVEsU0FBUjs7QUFDVixVQUFBLEdBQWEsT0FBQSxDQUFRLFlBQVI7O0FBRWIsU0FBQSxHQUFZLEtBQUssQ0FBQyxXQUFOLENBRVY7RUFBQSxXQUFBLEVBQWEsV0FBYjtFQUVBLGVBQUEsRUFBaUIsU0FBQTtXQUNmO01BQUEsUUFBQSxFQUNFO1FBQUEsU0FBQSxFQUFXLGFBQVg7UUFDQSxTQUFBLEVBQVcsWUFEWDtPQURGO01BR0EsU0FBQSxFQUFXLEdBSFg7TUFJQSxhQUFBLEVBQ0U7UUFBQSxNQUFBLEVBQVEscUJBQVI7UUFDQSxHQUFBLEVBQUssS0FETDtRQUVBLE1BQUEsRUFBUSxPQUZSO1FBR0EsSUFBQSxFQUFNLFdBSE47T0FMRjs7RUFEZSxDQUZqQjtFQWFBLGtCQUFBLEVBQW9CLFNBQUE7V0FFbEIsSUFBQyxDQUFBLGdCQUFELEdBQW9CLElBQUMsQ0FBQSxnQkFBRCxDQUFBO0VBRkYsQ0FicEI7RUFpQkEsZ0JBQUEsRUFBa0IsU0FBQTtBQUVoQixRQUFBO0lBQUEsNkRBQUcsU0FBUyxDQUFFLGtCQUFkO01BQ0UsRUFBQSxHQUFLLFNBQVMsQ0FBQyxTQUFTLENBQUMsV0FBcEIsQ0FBQTtNQUNMLElBQUcsRUFBRSxDQUFDLE9BQUgsQ0FBVyxRQUFYLENBQUEsS0FBd0IsQ0FBQyxDQUF6QixJQUErQixFQUFFLENBQUMsT0FBSCxDQUFXLFFBQVgsQ0FBQSxLQUF3QixDQUFDLENBQTNEO0FBQ0UsZUFBTyxpQkFEVDtPQUZGOztJQUlBLElBQUksWUFB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QUFnRDtRQUFBLGlCQUFBLEVBQW1CLElBQUMsQ0FBQSxlQUFELENBQWlCLFFBQWpCLENBQW5CO09BQWhELEVBQStGLElBQUMsQ0FBQSx3QkFBRCxDQUEwQixRQUExQixDQUEvRixDQUFmO01BQ3RCLGFBQUEsRUFBZ0IsSUFBQyxDQUFBLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FEVjtNQUV0QixZQUFBLEVBQWUsSUFBQyxDQUFBLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FGVDtLQUEzQixFQUdHLFdBSEgsQ0FYRixDQVBGLENBREYsRUEwQkUsS0FBSyxDQUFDLGFBQU4sQ0FBb0IsS0FBcEIsRUFBMkI7TUFBQyxXQUFBLEVBQWEsY0FBZDtLQUEzQixFQUNFLEtBQUssQ0FBQyxhQUFOLENBQW9CLEtBQXBCLEVBQTJCO01BQUMsV0FBQSxFQUFhLGFBQWQ7S0FBM0IsQ0FERixFQUVFLEtBQUssQ0FBQyxhQUFOLENBQW9CLEtBQXBCLEVBQTJCO01BQUMsV0FBQSxFQUFjLFVBQUEsQ0FBVyxhQUFYLEVBQTBCLGlCQUExQixFQUE2QztRQUFBLGlCQUFBLEVBQW1CLElBQUMsQ0FBQSxlQUFELENBQWlCLEtBQWpCLENBQW5CO09BQTdDLEVBQXlGLElBQUMsQ0FBQSx3QkFBRCxDQUEwQixLQUExQixDQUF6RixDQUFmO0tBQTNCLEVBQ0csSUFBQyxDQUFBLEtBQUssQ0FBQyxZQUFhLENBQUEsSUFBQyxDQUFBLEtBQUssQ0FBQyxlQUFnQixDQUFBLEtBQUEsQ0FBdkIsQ0FBcEIsSUFBc0QsSUFBQyxDQUFBLEtBQUssQ0FBQyxhQUFhLENBQUMsR0FEOUUsQ0FGRixFQUtFLEtBQUssQ0FBQyxhQUFOLENBQW9CLEtBQXBCLEVBQTJCO01BQUMsV0FBQSxFQUFhLGVBQWQ7S0FBM0IsQ0FMRixDQTFCRixDQURGO0VBckJJLENBbERSO0NBRlU7O0FBK0daLE1BQU0sQ0FBQyxPQUFQLEdBQWlCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlJlYWN0ID0gcmVxdWlyZSAncmVhY3QnXG5QYXltZW50ID0gcmVxdWlyZSAncGF5bWVudCdcbkNsYXNzTmFtZXMgPSByZXF1aXJlICdjbGFzc25hbWVzJ1xuXG5SZWFjdENhcmQgPSBSZWFjdC5jcmVhdGVDbGFzc1xuXG4gIGRpc3BsYXlOYW1lOiBcIlJlYWN0Q2FyZFwiXG5cbiAgZ2V0RGVmYXVsdFByb3BzOiAtPlxuICAgIG1lc3NhZ2VzOlxuICAgICAgdmFsaWREYXRlOiAndmFsaWRcXG50aHJ1J1xuICAgICAgbW9udGhZZWFyOiAnbW9udGgveWVhcidcbiAgICBiYXNlV2lkdGg6IDM1MFxuICAgIGRlZmF1bHRWYWx1ZXM6XG4gICAgICBudW1iZXI6ICfigKLigKLigKLigKIg4oCi4oCi4oCi4oCiIOKAouKAouKAouKAoiDigKLigKLigKLigKInXG4gICAgICBjdmM6ICfigKLigKLigKInXG4gICAgICBleHBpcnk6ICfigKLigKIv4oCi4oCiJ1xuICAgICAgbmFtZTogJ0Z1bGwgTmFtZSdcblxuICBjb21wb25lbnRXaWxsTW91bnQ6IC0+XG4gICAgIyBhZGQgc3BlY2lhbCBzdHlsaW5nIGFjY29yZGluZyB0byBzcGVjaWZpYyBicm93c2VyXG4gICAgQGNhcmRCcm93c2VyQ2xhc3MgPSBAX2FkZEJyb3dzZXJDbGFzcygpXG5cbiAgX2FkZEJyb3dzZXJDbGFzczogLT5cbiAgICAjIHNhZmFyaSBjYW4ndCBoYW5kbGUgdHJhbnNwYXJlbnQgcmFkaWFsIGdyYWRpZW50IHJpZ2h0IG5vd1xuICAgIGlmIG5hdmlnYXRvcj8udXNlckFnZW50XG4gICAgICB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKVxuICAgICAgaWYgdWEuaW5kZXhPZignc2FmYXJpJykgIT0gLTEgYW5kIHVhLmluZGV4T2YoJ2Nocm9tZScpID09IC0xXG4gICAgICAgIHJldHVybiAnanAtY2FyZC1zYWZhcmknXG4gICAgaWYgKC9NU0lFIDEwXFwuL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlcbiAgICAgIHJldHVybiAnanAtY2FyZC1pZS0xMCdcbiAgICAjIGllIDExIGRvZXMgbm90IHN1cHBvcnQgY29uZGl0aW9uYWwgY29tcGlsYXRpb24sIHVzZSB1c2VyIGFnZW50IGluc3RlYWRcbiAgICBpZiAoL3J2OjExLjAvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKVxuICAgICAgcmV0dXJuICdqcC1jYXJkLWllLTExJ1xuICAgIGVsc2UgcmV0dXJuICcnXG5cbiAgX2dldENhcmRUeXBlOiAoY2FyZE51bWJlciktPlxuICAgIEBjYXJkVHlwZSA9IFBheW1lbnQuZm5zLmNhcmRUeXBlIGNhcmROdW1iZXJcbiAgICBpZiBAY2FyZFR5cGUgYW5kIEBjYXJkVHlwZSBpc250ICd1bmtub3duJ1xuICAgICAgcmV0dXJuIFwianAtY2FyZC0je0BjYXJkVHlwZX0ganAtY2FyZC1pZGVudGlmaWVkXCJcblxuICBfaXNGb2N1c2VkSW5wdXQ6IChpbnB1dE5hbWUpLT5cbiAgICBjdXJyZW50SW5wdXRWYWx1ZSA9IEBwcm9wcy5mb3JtSW5wdXRzTmFtZXNbaW5wdXROYW1lXVxuXG4gICAgIyBmb2N1c2VkIHN0eWxpbmcgaXMgYXBwbGllZCB0byB0aGUgY3VycmVudGx5IGZvY3VzZWQgZWxlbWVudFxuICAgICMgYW5kIGFsbCBvdGhlciBlbGVtZW50cyB3aXRoIHVzZXIgaW5wdXQgdmFsdWVzXG4gICAgcmV0dXJuICgoQHByb3BzLmZvY3VzZWRJbnB1dCBpcyBjdXJyZW50SW5wdXRWYWx1ZSkgb3IgQHByb3BzLmlucHV0c1ZhbHVlc1tjdXJyZW50SW5wdXRWYWx1ZV0pXG5cbiAgX2dldElucHV0VmFsaWRhdGlvblN0YXRlOiAoaW5wdXROYW1lKS0+XG4gICAgdmFsaWRhdGlvblN0YXRlID0gQHByb3BzLmlucHV0c1ZhbGlkYXRpb25DbGFzc1tAcHJvcHMuZm9ybUlucHV0c05hbWVzW2lucHV0TmFtZV1dXG4gICAgaWYgdHlwZW9mIHZhbGlkYXRpb25TdGF0ZSBpcyAndW5kZWZpbmVkJ1xuICAgICAgJydcbiAgICBlbHNlXG4gICAgICB2YWxpZGF0aW9uU3RhdGVcblxuXG4gIHJlbmRlcjogLT5cbiAgICBjb250YWluZXJTdHlsZSA9IHt9XG5cbiAgICAjIHNjYWxlIHRoZSBjYXJkIGFjY29yZGluZyB0byB0aGUgd2lkdGggcHJvcFxuICAgIGlmIEBwcm9wcy53aWR0aFxuICAgICAgc2NhbGVXaWR0aCA9IFwic2NhbGUoI3tAcHJvcHMud2lkdGggLyBAcHJvcHMuYmFzZVdpZHRofSlcIlxuICAgICAgY29udGFpbmVyU3R5bGUgPVxuICAgICAgICBXZWJraXRUcmFuc2Zvcm06IHNjYWxlV2lkdGhcbiAgICAgICAgTW96VHJhbnNmb3JtOiBzY2FsZVdpZHRoXG4gICAgICAgIG1zVHJhbnNmb3JtOiBzY2FsZVdpZHRoXG4gICAgICAgIE9UcmFuc2Zvcm06IHNjYWxlV2lkdGhcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZVdpZHRoXG5cbiAgICAjIGZvcm1hdCB0aGUgZXhwaXJ5IHZhbHVlXG4gICAgZXhwaXJ5VmFsdWUgPSBAcHJvcHMuaW5wdXRzVmFsdWVzW0Bwcm9wcy5mb3JtSW5wdXRzTmFtZXNbXCJleHBpcnlcIl1dXG4gICAgaWYgZXhwaXJ5VmFsdWVcbiAgICAgIGV4cGlyeVZhbHVlID0gZXhwaXJ5VmFsdWUucmVwbGFjZSgvXFxzKy9nLCAnJylcbiAgICBlbHNlXG4gICAgICBleHBpcnlWYWx1ZSA9IEBwcm9wcy5kZWZhdWx0VmFsdWVzLmV4cGlyeVxuXG4gICAgcmV0dXJuIChcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IFwianAtY2FyZC1jb250YWluZXJcIiwgXCJzdHlsZVwiOiAoY29udGFpbmVyU3R5bGUpfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XCJjbGFzc05hbWVcIjogKENsYXNzTmFtZXMoXCJqcC1jYXJkXCIsIEBjYXJkQnJvd3NlckNsYXNzLCBAX2dldENhcmRUeXBlKEBwcm9wcy5pbnB1dHNWYWx1ZXNbQHByb3BzLmZvcm1JbnB1dHNOYW1lc1tcIm51bWJlclwiXV0pLCAnanAtY2FyZC1mbGlwcGVkJzogQHByb3BzLmNhcmRGbGlwcGVkKSl9LFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IFwianAtY2FyZC1mcm9udFwifSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IFwianAtY2FyZC1sb2dvIGpwLWNhcmQtdmlzYVwifSwgXCJ2aXNhXCIpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XCJjbGFzc05hbWVcIjogXCJqcC1jYXJkLWxvZ28ganAtY2FyZC1tYXN0ZXJjYXJkXCJ9LCBcIk1hc3RlckNhcmRcIiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiBcImpwLWNhcmQtbG9nbyBqcC1jYXJkLW1hZXN0cm9cIn0sIFwiTWFlc3Ryb1wiKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IFwianAtY2FyZC1sb2dvIGpwLWNhcmQtYW1leFwifSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiBcImpwLWNhcmQtbG9nbyBqcC1jYXJkLWRpc2NvdmVyXCJ9LCBcImRpc2NvdmVyXCIpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XCJjbGFzc05hbWVcIjogXCJqcC1jYXJkLWxvZ28ganAtY2FyZC1kYW5rb3J0XCJ9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiBcImRrXCJ9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiBcImRcIn0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiBcImtcIn0pKSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiBcImpwLWNhcmQtbG93ZXJcIn0sXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IFwianAtY2FyZC1zaGlueVwifSksXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IChDbGFzc05hbWVzKFwianAtY2FyZC1jdmNcIiwgXCJqcC1jYXJkLWRpc3BsYXlcIiwgXCJqcC1jYXJkLWZvY3VzZWRcIjogQF9pc0ZvY3VzZWRJbnB1dChcImN2Y1wiKSwgQF9nZXRJbnB1dFZhbGlkYXRpb25TdGF0ZShcImN2Y1wiKSkpfSxcbiAgICAgICAgICAgICAgICAoQHByb3BzLmlucHV0c1ZhbHVlc1tAcHJvcHMuZm9ybUlucHV0c05hbWVzW1wiY3ZjXCJdXSBvciBAcHJvcHMuZGVmYXVsdFZhbHVlcy5jdmMpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IChDbGFzc05hbWVzKFwianAtY2FyZC1udW1iZXJcIiwgXCJqcC1jYXJkLWRpc3BsYXlcIiwgXCJqcC1jYXJkLWZvY3VzZWRcIjogQF9pc0ZvY3VzZWRJbnB1dChcIm51bWJlclwiKSwgQF9nZXRJbnB1dFZhbGlkYXRpb25TdGF0ZShcIm51bWJlclwiKSkpfSxcbiAgICAgICAgICAgICAgICAoQHByb3BzLmlucHV0c1ZhbHVlc1tAcHJvcHMuZm9ybUlucHV0c05hbWVzW1wibnVtYmVyXCJdXSBvciBAcHJvcHMuZGVmYXVsdFZhbHVlcy5udW1iZXIpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IChDbGFzc05hbWVzKFwianAtY2FyZC1uYW1lXCIsIFwianAtY2FyZC1kaXNwbGF5XCIsIFwianAtY2FyZC1mb2N1c2VkXCI6IEBfaXNGb2N1c2VkSW5wdXQoXCJuYW1lXCIpLCBAX2dldElucHV0VmFsaWRhdGlvblN0YXRlKFwibmFtZVwiKSkpfSxcbiAgICAgICAgICAgICAgICAoQHByb3BzLmlucHV0c1ZhbHVlc1tAcHJvcHMuZm9ybUlucHV0c05hbWVzW1wibmFtZVwiXV0gb3IgQHByb3BzLmRlZmF1bHRWYWx1ZXMubmFtZSlcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XCJjbGFzc05hbWVcIjogKENsYXNzTmFtZXMoXCJqcC1jYXJkLWV4cGlyeVwiLCBcImpwLWNhcmQtZGlzcGxheVwiLCBcImpwLWNhcmQtZm9jdXNlZFwiOiBAX2lzRm9jdXNlZElucHV0KFwiZXhwaXJ5XCIpLCBAX2dldElucHV0VmFsaWRhdGlvblN0YXRlKFwiZXhwaXJ5XCIpKSksICBcXFxuICAgICAgICAgICAgICAgICAgIFwiZGF0YS1iZWZvcmVcIjogKEBwcm9wcy5tZXNzYWdlcy5tb250aFllYXIpLCAgXFxcbiAgICAgICAgICAgICAgICAgICBcImRhdGEtYWZ0ZXJcIjogKEBwcm9wcy5tZXNzYWdlcy52YWxpZERhdGUpfSxcbiAgICAgICAgICAgICAgICAoZXhwaXJ5VmFsdWUpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1wiY2xhc3NOYW1lXCI6IFwianAtY2FyZC1iYWNrXCJ9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XCJjbGFzc05hbWVcIjogXCJqcC1jYXJkLWJhclwifSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiAoQ2xhc3NOYW1lcyhcImpwLWNhcmQtY3ZjXCIsIFwianAtY2FyZC1kaXNwbGF5XCIsIFwianAtY2FyZC1mb2N1c2VkXCI6IEBfaXNGb2N1c2VkSW5wdXQoXCJjdmNcIiksIEBfZ2V0SW5wdXRWYWxpZGF0aW9uU3RhdGUoXCJjdmNcIikpKX0sXG4gICAgICAgICAgICAgIChAcHJvcHMuaW5wdXRzVmFsdWVzW0Bwcm9wcy5mb3JtSW5wdXRzTmFtZXNbXCJjdmNcIl1dIG9yIEBwcm9wcy5kZWZhdWx0VmFsdWVzLmN2YylcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcImNsYXNzTmFtZVwiOiBcImpwLWNhcmQtc2hpbnlcIn0pXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApXG4gICAgKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0Q2FyZCJdfQ==
